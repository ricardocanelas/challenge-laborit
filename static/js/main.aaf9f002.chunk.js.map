{"version":3,"sources":["components/Dropdown.js","components/VehicleDetail.js","components/FavouriteTable.js","helpers/api.js","helpers/local.js","App.js","index.js"],"names":["Dropdown","props","react_default","a","createElement","className","label","onChange","e","target","value","status","disabled","data","length","map","item","key","codigo","nome","VehicleDetail","fa","_props$data$data","Marca","Modelo","Valor","AnoModelo","Combustivel","CodigoFipe","MesReferencia","isFavourite","onClick","onFavouriteChange","io","fill","FavouriteTable","width","colSpan","id","api","API","type","Object","classCallCheck","this","history","url_base","undefined","fetch","then","res","json","brand_id","model_id","year_id","KEY","local","getStore","localStorage","getItem","JSON","parse","setStore","setItem","stringify","App","state","brands","selected","models","years","vehicle","favourites","reducer","action","callback","arguments","_this","setState","currentState","objectSpread","payload","concat","toConsumableArray","filter","handleChange","field","toUpperCase","getModels","result","modelos","getYears","getVehicle","handleFavouriteChange","favourite","_this2","getBrands","_this$state","find","components_Dropdown","components_VehicleDetail","components_FavouriteTable","href","Component","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.aaf9f002.chunk.js","sourcesContent":["import React from 'react';\n\nconst Dropdown = (props) => {\n  return (\n    <div className='dropdown'>\n      <div className='label'>{props.label}</div>\n      <select onChange={(e) => props.onChange(e.target.value)} value={props.value === null ? '' : props.value}>\n        {props.status === 'loading' && <option value='' disabled>Loading...</option>}\n        {props.data && props.data.length && <option value='' disabled>- Select -</option>}\n        {props.data && props.data.map(item => (\n          <option key={item.codigo} value={item.codigo}>{item.nome}</option>\n        ))}\n      </select>\n    </div>\n  )\n}\n\nexport default Dropdown;\n","import React from 'react';\nimport { FaSpinner } from 'react-icons/fa';\nimport { IoIosHeartEmpty, IoIosHeart } from 'react-icons/io';\n\nconst VehicleDetail = (props) => {\n\n  if (props.data.status === 'none') {\n    return <div className='vehicle notfound'>Selecione todos os campos acima.</div>\n  }\n\n  if (props.data.status === 'loading') {\n    return <div className='vehicle loading'><FaSpinner className='animate rotate' /></div>\n  }\n\n  const { Marca, Modelo, Valor, AnoModelo, Combustivel, CodigoFipe, MesReferencia } = props.data.data\n  const { isFavourite } = props;\n\n  return (\n    <div className='vehicle'>\n      <div className='label'>Dados do veículo</div>\n\n      <div className='container'>\n        <div className='body'>\n          <div className=''>\n            <div className='brand'>{Marca}</div>\n            <div className='model'>{Modelo}</div>\n          </div>\n          <div className=''>\n            <div className='price'>{Valor}</div>\n            <div className='ref'>Mês ref.: {MesReferencia}</div>\n          </div>\n        </div>\n        <div className='footer'>\n          <div className=''>\n            <div className='fuel tag'>{Combustivel}</div>\n            <div className='year tag'>{AnoModelo}</div>\n            <div className='fipe'>FIPE: {CodigoFipe}</div>\n          </div>\n          <div className=''>\n            <div className='favourite' onClick={(e) => props.onFavouriteChange(props.data.data, !props.isFavourite)}>\n              {isFavourite && <IoIosHeart fill='red' />}\n              {!isFavourite && <IoIosHeartEmpty />}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default VehicleDetail;\n","import React from 'react';\n\nconst FavouriteTable = (props) => {\n  return (\n    <div className='favourite-list'>\n      <div className='label'>Favoritos</div>\n      <table>\n        <thead>\n          <tr>\n            <th width='140px'>Marca</th>\n            <th>Modelo / Ano</th>\n            <th>Preço</th>\n          </tr>\n        </thead>\n        <tbody>\n          {props.data.length === 0 && (\n            <tr><td colSpan='3' className='text-center'>- sem favoritos -</td></tr>\n          )}\n          {props.data.map(item =>\n            <tr key={item.id} data={item}>\n              <td>{item.Marca}</td>\n              <td>{item.Modelo} ({item.AnoModelo})</td>\n              <td>{item.Valor}</td>\n            </tr>\n          )}\n        </tbody>\n      </table>\n    </div>\n  )\n}\n\nexport default FavouriteTable;\n","class API {\n\n  constructor(type) {\n    this.history = {};\n    this.url_base = 'https://parallelum.com.br/fipe/api/v1/';\n    this.type = type === undefined ? 'carros' : type;\n  }\n\n  setType(value) {\n    this.type = value;\n  }\n\n  getBrands() {\n    return fetch(this.url_base + this.type + '/marcas').then(res => res.json())\n  }\n\n  getModels(brand_id) {\n    return fetch(this.url_base + this.type + '/marcas/' + brand_id + '/modelos').then(res => res.json())\n  }\n\n  getYears(brand_id, model_id) {\n    return fetch(this.url_base + this.type + '/marcas/' + brand_id + '/modelos/' + model_id + '/anos').then(res => res.json())\n  }\n\n  getVehicle(brand_id, model_id, year_id) {\n    return fetch(this.url_base + this.type + '/marcas/' + brand_id + '/modelos/' + model_id + '/anos/' + year_id).then(res => res.json())\n  }\n}\n\nexport default new API('carros');\n","const KEY = 'laborit_cars_favourites_v011';\n\nconst local = {\n  getStore: function () {\n    const data = localStorage.getItem(KEY);\n    return data ? JSON.parse(data) : [];\n  },\n\n  setStore: function (data) {\n    localStorage.setItem(KEY, JSON.stringify(data));\n  },\n}\n\nexport default local;\n","import React, { Component } from 'react';\nimport Dropdown from './components/Dropdown'\nimport VehicleDetail from './components/VehicleDetail'\nimport FavouriteTable from './components/FavouriteTable'\nimport API from './helpers/api'\nimport local from './helpers/local'\n\nclass App extends Component {\n\n  state = {\n    brands: {\n      selected: null,\n      status: 'loading',\n      data: [],\n    },\n    models: {\n      selected: null,\n      status: 'none',\n      data: [],\n    },\n    years: {\n      selected: null,\n      status: 'none',\n      data: [],\n    },\n    vehicle: {\n      status: 'none',\n      data: null,\n    },\n    favourites: local.getStore(),\n  }\n\n  // I created this function to look like Redux architecture\n  // if it's necessary to add redux or hook in the future,\n  // I believe that will be less painful\n\n  reducer = (action, callback = () => { }) => this.setState(currentState => {\n    switch (action.type) {\n      case 'brands_fetched':\n        return {\n          ...currentState,\n          brands: { selected: null, data: action.payload, status: 'loaded' },\n        };\n      case 'models_fetched':\n        return {\n          ...currentState,\n          models: { selected: null, data: action.payload, status: 'loaded' },\n          vehicle: { data: null, status: 'none' },\n        };\n      case 'years_fetched':\n        return {\n          ...currentState,\n          years: { selected: null, data: action.payload, status: 'loaded' },\n          vehicle: { data: null, status: 'none' },\n        };\n      case 'vehicle_fetched':\n        return {\n          ...currentState,\n          vehicle: {\n            data: {\n              ...action.payload,\n              id: `${currentState.brands.selected}-${currentState.models.selected}-${currentState.years.selected}`,\n            },\n            status: 'loaded',\n          },\n        };\n      case 'brands_selected':\n        return {\n          ...currentState,\n          brands: {\n            ...currentState.brands,\n            selected: action.payload,\n          },\n          models: { selected: null, data: null, status: 'loading' },\n          years: { selected: null, data: [], status: 'none' },\n          vehicle: { data: null, status: 'none' },\n        };\n      case 'models_selected':\n        return {\n          ...currentState,\n          models: { ...currentState.models, selected: action.payload },\n          years: { selected: null, data: null, status: 'loading' },\n          vehicle: { data: null, status: 'none' },\n        }\n      case 'years_selected':\n        return {\n          ...currentState,\n          years: { ...currentState.years, selected: action.payload, status: 'loaded' },\n          vehicle: { data: null, status: 'loading' },\n        }\n      case 'favourite_added':\n        return {\n          ...currentState,\n          favourites: [...currentState.favourites, action.payload],\n        }\n      case 'favourite_removed':\n        return {\n          ...currentState,\n          favourites: [...currentState.favourites.filter(item => item.id !== action.payload.id)],\n        }\n      default:\n        return currentState;\n    }\n  }, callback);\n\n  componentDidMount() {\n    API.getBrands().then(result => {\n      this.reducer({ type: 'brands_fetched', payload: result });\n    })\n  }\n\n  handleChange = field => value => {\n    const status = field.toUpperCase();\n\n    if (status === 'BRANDS') {\n      this.reducer({ type: 'brands_selected', payload: value });\n      API.getModels(value).then(result => {\n        this.reducer({ type: 'models_fetched', payload: result.modelos });\n      })\n    }\n\n    if (status === 'MODELS') {\n      this.reducer({ type: 'models_selected', payload: value });\n      API.getYears(this.state.brands.selected, value).then(result => {\n        this.reducer({ type: 'years_fetched', payload: result });\n      });\n    }\n\n    if (status === 'YEARS') {\n      this.reducer({ type: 'years_selected', payload: value });\n      API.getVehicle(this.state.brands.selected, this.state.models.selected, value).then(result => {\n        this.reducer({ type: 'vehicle_fetched', payload: result });\n      })\n    }\n  }\n\n  handleFavouriteChange = (data, favourite) => {\n    this.reducer({ type: favourite ? 'favourite_added' : 'favourite_removed', payload: data }, () => {\n      local.setStore(this.state.favourites);\n    });\n  }\n\n  render() {\n    const { brands, models, years, vehicle, favourites } = this.state;\n    const isFavourite = vehicle.status === 'loaded' ? (favourites.find(item => item.id === vehicle.data.id) ? true : false) : false;\n\n    return (\n      <div className=\"wrapper\">\n        <div className='logo'>Laborit Cars</div>\n        <div className='dropdowns'>\n          <Dropdown label='Marca' value={brands.selected} onChange={this.handleChange('brands')} data={brands.data} status={brands.status} />\n          <Dropdown label='Modelo' value={models.selected} onChange={this.handleChange('models')} data={models.data} status={models.status} />\n          <Dropdown label='Ano' value={years.selected} onChange={this.handleChange('years')} data={years.data} status={years.status} />\n        </div>\n        <VehicleDetail data={vehicle} onFavouriteChange={this.handleFavouriteChange} isFavourite={isFavourite} />\n        <hr />\n        <FavouriteTable data={favourites} />\n        <div className='by'>\n          <a href='https://github.com/ricardocanelas'>by RicardoCanelas</a>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}